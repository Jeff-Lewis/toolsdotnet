== Get into the database ==

sudo -u postgres psql -d limits

== Installing postgis on postgre 9.1 and ubuntu 12.04 ==

=== Uninstalling first any existing: ===

http://stackoverflow.com/questions/2748607/how-to-thoroughly-purge-and-reinstall-postgresql-on-ubuntu

First: If your install isn't already damaged, you can drop unwanted PostgreSQL servers ("clusters") in Ubuntu using pg_dropcluster. Use that in preference to a full purge and reinstall if you just want to start with a freshly initdb'd PostgreSQL instance.

If you really need to do a full purge and reinstall, first make sure PostgreSQL isn't running. ps -C postgres should show no results.

Now run:
{{{
apt-get --purge remove postgresql\*
to remove everything PostgreSQL from your system. Just purging the postgres package isn't enough since it's just an empty meta-package.
}}}
Once all PostgreSQL packages have been removed, run:
{{{
rm -r /etc/postgresql/
rm -r /etc/postgresql-common/
rm -r /var/lib/postgresql/
userdel -r postgres
groupdel postgres
}}}
===Installing with postGis:===

http://stackoverflow.com/questions/18696078/postgresql-error-when-trying-to-create-an-extension

{{{
echo "deb http://apt.postgresql.org/pub/repos/apt/ precise-pgdg main" | sudo tee /etc/apt/sources.list.d/postgis.list
wget --quiet -O - http://apt.postgresql.org/pub/repos/apt/ACCC4CF8.asc | sudo apt-key add -
sudo apt-get update
sudo apt-get install postgresql-9.3 postgresql-9.3-postgis-2.1 postgresql-client-9.3
sudo -u postgres psql -c 'create extension postgis;'
}}}

== Removing postgresql ==

sudo apt-get --purge autoremove postgresql*

== Reboot the machine ==

sudo reboot

== Compile sample ==


{{{
#first see what's the include folder is
pg_config --includedir
#then compile
cc -c -I/usr/include/postgresql limits2.c

#then see what lib directory is
pg_config --libdir
#then link
cc -o limits2 limits2.o -L/usr/lib -lpq
#run
sudo -u postgres ~/c/psql/limits2

}}}